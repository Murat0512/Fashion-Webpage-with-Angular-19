<header class="app-header">
  <div class="brand">Shoppers</div>

  <nav class="nav">
    <a routerLink="/home" routerLinkActive="active">Home</a>
    <a routerLink="/products" routerLinkActive="active">Products</a>
    <a routerLink="/cart" routerLinkActive="active">
      Cart
      <span class="badge" *ngIf="itemCount$ | async as count">{{ count }}</span>
    </a>
    <a routerLink="/about" routerLinkActive="active">About</a>
  </nav>

  <div class="auth">
    <button
      class="user-section-btn main-btn"
      *ngIf="authService.currentUser$ | async"
      (click)="showUserSection = true"
    >
      User Profile
    </button>
    <button class="logout" *ngIf="authService.currentUser$ | async" (click)="logout()">Logout</button>
    <a *ngIf="!(authService.currentUser$ | async)" class="login main-btn" routerLink="/login">Login</a>
  </div>

  <div class="user-profile-modal" *ngIf="showUserSection">
    <div
      class="user-profile-modal-backdrop"
      (click)="showUserSection = false"
    ></div>
    <div class="user-profile-modal-content">
      <app-user-profile></app-user-profile>
      <button class="close-modal" (click)="showUserSection = false">×</button>
    </div>
  </div>
</header>

<main class="app-main">
  <router-outlet></router-outlet>
</main>
<footer class="app-footer">
  <div class="footer-content">
    <span>© {{ currentYear }} Shoppers. All rights reserved.</span>
  </div>
</footer>
